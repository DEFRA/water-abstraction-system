{% from "govuk/components/tag/macro.njk" import govukTag %}

{% macro badge(text, type) %}
  {% if type === 'error' %}
    {% set classes = "govuk-tag--red govuk-!-font-size-27" %}
  {% elif type === 'inactive' %}
    {% set classes = "govuk-tag--grey govuk-!-font-size-27" %}
  {% elif type === 'info' %}
    {% set classes = "govuk-tag--blue govuk-!-font-size-27" %}
  {% elif type === 'warning' %}
    {% set classes = "govuk-tag--orange govuk-!-font-size-27" %}
  {% elif type === 'success' %}
    {% set classes = "govuk-tag--green govuk-!-font-size-27" %}
  {% elif type === '2ptReady' %}
    {% set classes = "govuk-tag--green" %}
    {% set text = 'ready' %}
  {% elif type === '2ptReview' %}
    {% set classes = "govuk-tag--blue" %}
  {% elif type === 'completed' %}
    {% set classes = "govuk-tag--green govuk-!-font-size-14"%}
  {% elif type === 'void' %}
    {% set classes = "govuk-tag--grey govuk-!-font-size-14"  %}
  {% elif type === 'overdue' %}
    {% set classes = "govuk-tag--red govuk-!-font-size-14" %}
  {% elif type === 'received' %}
    {% set classes = "govuk-tag--blue govuk-!-font-size-14" %}
  {% else %}
    {% set classes = "govuk-tag--blue govuk-!-font-size-27" %}
  {% endif %}

  {{
    govukTag({
      text: text,
      classes: classes
    })
  }}
{% endmacro %}

{% macro statusBadge(status) %}
  {% if status === 'ready' %}
    {% set badgeType = 'info' %}
  {% elif status === 'sent' %}
    {% set badgeType = 'success' %}
  {% elif status === 'empty' %}
    {% set badgeType = 'inactive' %}
  {% elif status === 'error' %}
    {% set badgeType = 'error' %}
  {# two part tariff review screens have a green `ready` status hence this is called `reviewReady`#}
  {% elif status === 'reviewReady' %}
    {% set badgeType = '2ptReady' %}
  {% elif status === 'review' %}
    {% set badgeType = '2ptReview' %}
  {# two-part tariff return statuses #}
  {% elif status === 'completed' %}
    {% set badgeType = 'completed' %}
  {% elif status === 'void' %}
    {% set badgeType = 'void' %}
  {% elif status === 'overdue' or status === 'query' %}
    {% set badgeType = 'overdue' %}
  {% elif status === 'received' %}
    {% set badgeType = 'received' %}
  {% endif %}

  {{ badge(status, badgeType) }}
{% endmacro %}
