{% extends 'layout.njk' %}

{% from "govuk/components/table/macro.njk" import govukTable %}

{% from "macros/return-log-status-tag.njk" import statusTag %}

{% block content %}
  <div class="govuk-body">
    <span class="govuk-caption-l">Licence {{ licenceNumber }}</span>
    <h1 class="govuk-heading-l">{{ pageTitle }}</h1>
      <p class="govuk-body">
        {{ statusTag(status, true) }}
      </p>
      <dl class="meta govuk-!-margin-bottom-4">
      <div class="meta__row">
        <dt class="meta__key">
          Site description
        </dt>
        <dd class="meta__value">
          {% if description != 'null' %}
            {{ description }}
          {% endif %}
        </dd>
      </div>
      <div class="meta__row">
        <dt class="meta__key">
          Purpose
        </dt>
        <dd class="meta__value">
          {{ returnPurpose }}
        </dd>
      </div>
      <div class="meta__row">
        <dt class="meta__key">
          Return period
        </dt>
        <dd class="meta__value">
          {{ returnPeriod }}
        </dd>
      </div>
      <div class="meta__row">
        <dt class="meta__key">
          Abstraction period
        </dt>
        <dd class="meta__value">
          {{ abstractionPeriod }}
        </dd>
      </div>
      <div class="meta__row">
        <dt class="meta__key">
          TARIFF
        </dt>
      </div>
    </dl>

    {{ govukTable({
      firstCellIsHeader: true,
      head: [
        {
          text: "Month"
        },
        {
          text: "Total cubic metres"
        },
        {
          text: "Details"
        }
      ],
      rows: tableRows
    }) }}

    <pre>
      {{ dataString }}
    </pre>
  </div>
{% endblock %}
