{% extends 'layout.njk' %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% set title = "Why are no returns required?" %}
{% set rootLink = "/system/return-requirements/" + id %}
{% block breadcrumbs %}
  {# Back link #}
  {{
    govukBackLink({
      text: 'Back',
      href: rootLink
    })
  }}
{% endblock %}

{% block content %}

{% if errorMessage %}
  {{ govukErrorSummary({
    titleText: "There is a problem",
    errorList: [
      {
        text: errorMessage,
        href: "#reasonNewRequirements"
      },
      ]
    }) }}
{% endif %}

  <form method="post" class="form">
    {{ govukRadios({
        idPrefix: "reasonNewRequirements",
        name: "reasonNewRequirements",
        errorMessage: errorMessage ? {
            text: errorMessage
          } : undefined,
        fieldset: {
          legend: {
            html: '<span class="govuk-caption-l">Licence ' + 'TODO: licence number' + '</span>' + [title],
            isPageHeading: true,
            classes: "govuk-fieldset__legend--l govuk-!-margin-bottom-6"
          }
        },
        items: [
        {
          value: "abstraction_below_100_cubic_metres_per_day",
          text: "Abstraction amount below 100 cubic metres per day",
          checked: checked("reasonNewRequirements", "abstraction-below-100-cubic-metres-per-day")
        },
        {
          value: "returns_exception",
          text: "Returns exception",
          checked: checked("reasonNewRequirements", "returns-exception")
        },
        {
          value: "transfer_licence",
          text: "Transfer licence",
          checked: checked("reasonNewRequirements", "transfer-licence")
        }
        ]
        }) }}

    <div class="govuk-body">
      {{ govukButton({ text: "Continue" }) }}
    </div>
  </form>

{% endblock %}
